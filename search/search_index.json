{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Accio","text":"<p>Accio is a tool designed to manage tasks executed on multiple remote servers via SSH. It allows you to configure and automate command execution on a variety of nodes using YAML configuration files, making remote server management more efficient and scalable.</p>"},{"location":"#features","title":"Features","text":"<ul> <li> <p>Define and manage SSH hosts in a simple configuration file.</p> </li> <li> <p>Execute tasks remotely via SSH using runfiles.</p> </li> <li> <p>Automate task execution on multiple servers.</p> </li> <li> <p>Support for environment variables and multi-node commands.</p> </li> </ul>"},{"location":"#installation","title":"Installation","text":"<p>You can install Accio in several ways, depending on your preference. Below are the three main options:</p>"},{"location":"#install-via-git-clone-and-go-install","title":"Install via Git Clone and Go Install","text":"<p>This method is ideal if you want to build the project from source using Go:</p> <pre><code># Clone the repository\ngit clone https://github.com/lucaslimafernandes/accio.git\n\n# Change to the project directory\ncd accio\n\n# Build and install using Go\ngo install\n</code></pre> <p>This will compile the project and place the binary in your <code>$GOPATH/bin</code> directory, making it available globally if <code>$GOPATH/bin</code> is part of your system's PATH.</p>"},{"location":"#download-prebuilt-binary","title":"Download Prebuilt Binary","text":"<p>If you prefer to skip building from source, you can download a prebuilt binary from the releases page of the repository. Once downloaded, move the binary to <code>/usr/bin</code> (or any directory included in your PATH) to make it available system-wide:</p> <pre><code># Download the binary (replace the link with the actual one from the releases page)\nwget https://github.com/lucaslimafernandes/accio/releases/download/vX.Y.Z/accio-linux-amd64\n\n# Make the binary executable\nchmod +x accio-linux-amd64\n\n# Move the binary to /usr/bin to make it globally accessible\nsudo mv accio-linux-amd64 /usr/bin/accio\n</code></pre> <p>Now, you can run <code>accio</code> from any directory on your system.</p>"},{"location":"#install-via-go-direct-from-repository","title":"Install via Go (Direct from Repository)","text":"<p>If you have Go installed, you can install the binary directly using Go's built-in package management:</p> <pre><code>go install github.com/lucaslimafernandes/accio@latest\n</code></pre> <p>This command will fetch the latest version of Accio, build it, and place the binary in your <code>$GOPATH/bin</code> directory. Ensure that <code>$GOPATH/bin</code> is in your system's PATH.</p>"},{"location":"#usage","title":"Usage","text":"<p>Accio supports a set of commands to interact with the remote servers and manage task execution. Below are some of the key commands:</p> <ul> <li><code>accio -help</code> - Show available commands.</li> <li><code>accio -version</code> - Show Accio version.</li> <li><code>accio -hosts</code> - Specify the path to the hosts configuration file.</li> <li><code>accio -run</code> - Specify the path to the runfile for executing tasks.</li> <li><code>accio -localrun</code> - Localhost execution.</li> </ul> <p>Example usage:</p> <pre><code>accio -hosts /path/to/hosts -run /path/to/runfile.yaml\n\naccio -localrun -run /path/to/runfile.yaml\n</code></pre>"},{"location":"#configuration","title":"Configuration","text":""},{"location":"#hosts-file","title":"Hosts File","text":"<p>The hosts file is used to define the SSH access to multiple servers. Each server is represented as a node with the following fields:</p> <ul> <li> <p><code>name:</code> A descriptive name for the node.</p> </li> <li> <p><code>host:</code> The IP address and SSH port of the server.</p> </li> <li> <p><code>user:</code> The username used for authentication.</p> </li> <li> <p><code>private_key_path:</code> Path to the SSH private key.</p> </li> </ul> <p>Example configuration:</p> <pre><code>[[nodes]]\nname = \"oci1\"\nhost = \"10.128.0.1:22\"\nuser = \"ubuntu\"\nprivate_key_path = \"/home/lucas/.ssh/id_rsa\"\n\n[[nodes]]\nname = \"oci2\"\nhost = \"10.128.0.2:22\"\nuser = \"ubuntu\"\nprivate_key_path = \"/home/lucas/.ssh/id_rsa\"\n</code></pre> <p>For more details, refer to the Hosts Configuration Documentation.</p>"},{"location":"#runfile","title":"Runfile","text":"<p>Runfiles are used to define a sequence of tasks to be executed on the nodes. These files are written in YAML format and can include environment variables and commands for multiple nodes.</p> <p>Example runfile:</p> <pre><code>runfile: first_runfile\n\nenvs:\n  - key: MYNAME\n    value: Lucas\n\ntasks:\n  - name: hello\n    node: \n      - oci1\n    command: \n      echo \"Hello, $MYNAME!\"\n</code></pre> <p>For more information, check the Runfile Documentation.</p> <p>Error Handling Accio documents common error messages that may occur during execution. Below is an example of a common error:</p> <pre><code>Process exited with status 127: bash: line 1: wh: command not found\n</code></pre> <p>This error indicates that a command is not available on the remote node. To resolve it, verify the command or install the missing dependencies. More details on error handling can be found in the Errors Documentation.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>Your contributions are welcome! If you encounter any bugs or have feature requests, please open an issue. To contribute code, follow these steps:</p> <ol> <li> <p>Fork the repository.</p> </li> <li> <p>Clone your forked repository to your local machine.</p> </li> <li> <p>Create a new branch for your feature or bugfix (git checkout -b feature-name).</p> </li> <li> <p>Make your changes and commit them (git commit -m \"Description of changes\").</p> </li> <li> <p>Push your branch (git push origin feature-name).</p> </li> <li> <p>Open a pull request with a clear description of your changes.</p> </li> </ol> <p>For more details, check the Contributing Guide.</p> <p>License This project is licensed under the MIT License. See the LICENSE file for more information.</p>"},{"location":"en/","title":"Welcome to Accio","text":"<p>From Latin, accio, meaning action</p> <p>So, do something on multiple servers, that's the idea.</p> <p>Accio is a tool designed to manage tasks executed on multiple remote servers via SSH. It allows you to configure and automate command execution on a variety of nodes using YAML configuration files, making remote server management more efficient and scalable.</p>"},{"location":"en/#features","title":"Features","text":"<ul> <li> <p>Define and manage SSH hosts in a simple configuration file.</p> </li> <li> <p>Execute tasks remotely via SSH using runfiles.</p> </li> <li> <p>Automate task execution on multiple servers.</p> </li> <li> <p>Support for environment variables and multi-node commands.</p> </li> </ul>"},{"location":"en/#commands","title":"Commands","text":"<ul> <li><code>accio -help</code> - Show available commands.</li> <li><code>accio -version</code> - Show Accio version.</li> <li><code>accio -hosts</code> - hosts path.</li> <li><code>accio -run</code> - Runfile path.</li> <li><code>accio -localrun</code> - Localhost execution.</li> </ul>"},{"location":"en/#project-layout","title":"Project layout","text":"<pre><code>.\n\u251c\u2500\u2500 build.sh\n\u251c\u2500\u2500 CHANGELOG.md\n\u251c\u2500\u2500 cmd\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 accio\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 main.go\n\u251c\u2500\u2500 docs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 en\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 changelogs.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 contributing.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 errors.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 hosts.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 index.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 installation.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 runfiles.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 index.md\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 pt-BR\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 changelogs.md\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 contributing.md\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 errors.md\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 hosts.md\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 index.md\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 installation.md\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 runfiles.md\n\u251c\u2500\u2500 examples\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 first_runfile.yaml\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 install_docker.yaml\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 multi_cmds.yaml\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 simple.yaml\n\u251c\u2500\u2500 go.mod\n\u251c\u2500\u2500 go.sum\n\u251c\u2500\u2500 hosts.example.toml\n\u251c\u2500\u2500 hosts.toml\n\u251c\u2500\u2500 IDEA.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 mkdocs.yml\n\u251c\u2500\u2500 pkg\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 localexec\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 handler.go\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 read_files\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 hosts.go\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 hosts_test.go\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 runfile.go\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 sshconn\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 commands.go\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 sshconn.go\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 sshexec\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 handler.go\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 utilities\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 logs.go\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 simpleColors.go\n\u251c\u2500\u2500 project.toml\n\u2514\u2500\u2500 README.md\n\n</code></pre>"},{"location":"en/changelogs/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"en/changelogs/#v111-2024-11-26","title":"[v1.1.1] - 2024-11-26","text":""},{"location":"en/changelogs/#fixed","title":"Fixed","text":"<ul> <li>Local execution errors logs.</li> </ul>"},{"location":"en/changelogs/#v110-2024-11-25","title":"[v1.1.0] - 2024-11-25","text":""},{"location":"en/changelogs/#added","title":"Added","text":"<ul> <li>Localhost execution.</li> </ul>"},{"location":"en/changelogs/#v100-2024-11-22","title":"[v1.0.0] - 2024-11-22","text":""},{"location":"en/changelogs/#added_1","title":"Added","text":"<ul> <li> <p>First stable release of Accio.</p> </li> <li> <p>Support for defining and managing SSH hosts through a simple configuration file.</p> </li> <li> <p>Execution of tasks remotely using YAML-based runfiles.</p> </li> <li> <p>Support for environment variables within runfiles.</p> </li> <li> <p>Ability to execute commands on multiple servers (nodes) via SSH.</p> </li> <li> <p>Task automation across multiple servers.</p> </li> <li> <p>Support for advanced shell commands, including multi-line commands and shell operators.</p> </li> <li> <p>Initial documentation covering hosts configuration, runfiles, and usage examples.</p> </li> </ul>"},{"location":"en/changelogs/#unreleased","title":"[Unreleased]","text":""},{"location":"en/changelogs/#added_2","title":"Added","text":"<p>For new features.</p>"},{"location":"en/changelogs/#changed","title":"Changed","text":"<p>For changes in existing functionality.</p>"},{"location":"en/changelogs/#deprecated","title":"Deprecated","text":"<p>For soon-to-be removed features.</p>"},{"location":"en/changelogs/#removed","title":"Removed","text":"<p>For now removed features.</p>"},{"location":"en/changelogs/#fixed_1","title":"Fixed","text":"<p>For any bug fixes.</p>"},{"location":"en/changelogs/#security","title":"Security","text":"<p>Fin case of vulnerabilities.</p>"},{"location":"en/contributing/","title":"Contributing","text":"<p>Your contributions are welcome! If you encounter any bugs or have feature requests, please open an issue. To contribute code, follow these steps:</p> <ol> <li>Fork the repository.</li> <li>Clone your forked repository to your local machine.</li> <li>Create a new branch <code>git checkout -b feature-or-bugfix-name</code>.</li> <li>Make your changes and commit them <code>git commit -m \"Description of your changes\"</code>.</li> <li>Push your branch to your forked repository <code>git push origin feature-or-bugfix-name</code>.</li> <li>Open a pull request with a clear description of your changes.</li> </ol>"},{"location":"en/errors/","title":"Errors","text":"<p>This file documents common error messages that may occur during the execution of commands on different remote nodes. Each section describes the error, its possible causes, and how to resolve it.</p>"},{"location":"en/errors/#common-error-messages","title":"Common Error Messages","text":"<p>Error: <code>Process exited with status 127: bash: line 1: wh: command not found</code></p> <p>Description:</p> <p>This error occurs when a specific command is not found on the remote server. The exit code <code>127</code> is returned by the Linux shell to indicate that the command is not available on the system.</p> <p>Error Example:</p> <pre><code>Have errors occurred in: oci2\nraise_error: [failed to execute command: Process exited with status 127: bash: line 1: wh: command not found]\n</code></pre> <pre><code>Have errors occurred in: oci1\nraise_error: [failed to execute command: Process exited with status 127: bash: line 1: wh: command not found]\n</code></pre> <p>Cause:</p> <p>The error is related to the use of a command that is either not installed or unavailable in the remote server environment. In the example above, the command <code>wh</code> was not found, indicating that it was either mistyped or the expected binary is missing.</p> <p>Solution:</p> <ol> <li> <p>Check the Command: Ensure the command entered is correct. In the case above, the correct command might be <code>whoami</code>, but it was mistyped as <code>wh</code>.</p> </li> <li> <p>Install the Missing Command: If the correct command is missing on the server, you can install it. For example, to install <code>whoami</code>, use:</p> </li> </ol> <pre><code>sudo apt-get install coreutils\n</code></pre> <ol> <li>Fix the Script: If the error is in a script or runfile, edit the script to use the correct command or check that all necessary commands are installed on the server.</li> </ol>"},{"location":"en/errors/#outros-erros","title":"Outros Erros","text":"<p>If you encounter any bugs or have feature requests, please open an issue. To contribute code, follow the contributing guide</p>"},{"location":"en/hosts/","title":"Hosts Configuration File","text":"<p>The hosts file is used to set up SSH access to multiple servers (nodes). Each <code>[[nodes]]</code> block in the file defines a connection to a specific server, including details such as the node name, IP address, user, and the path to the SSH private key. Below are details about each field and how they should be filled out.</p>"},{"location":"en/hosts/#file-format","title":"File Format","text":"<p>The file is organized into blocks, each representing one node. Each block is delineated by <code>[[nodes]]</code> and contains the following fields:</p> <ul> <li><code>name</code>: A descriptive name for the node. This identifier is used to reference the server.</li> <li><code>host</code>: The IP address or hostname of the server, followed by the SSH service port (usually port 22).</li> <li><code>user</code>: The user account used for SSH authentication.</li> <li><code>private_key_path</code>: The local path to the SSH private key used for authenticating to the server.</li> </ul>"},{"location":"en/hosts/#example-configuration","title":"Example Configuration","text":"<p>Here is an example of how two servers might be configured in the hosts file:</p> <pre><code>[[nodes]]\nname = \"oci1\"\nhost = \"10.128.0.1:22\"\nuser = \"ubuntu\"\nprivate_key_path = \"/home/lucas/.ssh/id_rsa\"\n\n[[nodes]]\nname = \"oci2\"\nhost = \"10.128.0.2:22\"\nuser = \"ubuntu\"\nprivate_key_path = \"/home/lucas/.ssh/id_rsa\"\n</code></pre>"},{"location":"en/hosts/#usage","title":"Usage","text":"<p>This file is typically used by scripts or applications that automate SSH connections to multiple servers. It allows the user to configure access to all necessary servers once and reuse this configuration efficiently and securely.</p>"},{"location":"en/installation/","title":"Installation","text":"<p>You can install Accio in several ways, depending on your preference. Below are the three main options:</p>"},{"location":"en/installation/#install-via-git-clone-and-go-install","title":"Install via Git Clone and Go Install","text":"<p>This method is ideal if you want to build the project from source using Go:</p> <pre><code># Clone the repository\ngit clone https://github.com/lucaslimafernandes/accio.git\n\n# Change to the project directory\ncd accio\n\n# Build and install using Go\ngo install\n</code></pre> <p>This will compile the project and place the binary in your <code>$GOPATH/bin</code> directory, making it available globally if <code>$GOPATH/bin</code> is part of your system's PATH.</p>"},{"location":"en/installation/#download-prebuilt-binary","title":"Download Prebuilt Binary","text":"<p>If you prefer to skip building from source, you can download a prebuilt binary from the releases page of the repository. Once downloaded, move the binary to <code>/usr/bin</code> (or any directory included in your PATH) to make it available system-wide:</p> <pre><code># Download the binary (replace the link with the actual one from the releases page)\nwget https://github.com/lucaslimafernandes/accio/releases/download/vX.Y.Z/accio-linux-amd64\n\n# Make the binary executable\nchmod +x accio-linux-amd64\n\n# Move the binary to /usr/bin to make it globally accessible\nsudo mv accio-linux-amd64 /usr/bin/accio\n</code></pre> <p>Now, you can run <code>accio</code> from any directory on your system.</p>"},{"location":"en/installation/#install-via-go-direct-from-repository","title":"Install via Go (Direct from Repository)","text":"<p>If you have Go installed, you can install the binary directly using Go's built-in package management:</p> <pre><code>go install github.com/lucaslimafernandes/accio@latest\n</code></pre> <p>This command will fetch the latest version of Accio, build it, and place the binary in your <code>$GOPATH/bin</code> directory. Ensure that <code>$GOPATH/bin</code> is in your system's PATH.</p>"},{"location":"en/runfiles/","title":"Runfiles","text":"<p>Runfiles are YAML configurations used to define a series of tasks to be executed on remote nodes via SSH. These files are structured to include environmental settings, task names, associated nodes, and the specific commands to be executed. Below, we provide a detailed explanation of how to create and structure these runfiles.</p>"},{"location":"en/runfiles/#file-structure","title":"File Structure","text":"<p>A typical runfile includes several key sections:</p> <ul> <li><code>runfile</code>: A title or description of the runfile's purpose.</li> <li><code>envs</code>: (Optional) Global environment variables applicable to all tasks.</li> <li><code>tasks</code>: A list of tasks, where each task specifies a command to be executed on one or more nodes.</li> </ul>"},{"location":"en/runfiles/#example-runfile","title":"Example Runfile","text":"<p>Here's an example of a simple runfile named <code>first_runfile.yaml</code>:</p> <pre><code>runfile: first_runfile\n\nenvs:\n  - key: MYNAME\n    value: Lucas\n\ntasks:\n  - name: hello\n    node: \n      - oci1\n    command: \n      echo \"Hello, $MYNAME!\"\n\n</code></pre> <p>The output:</p> <pre><code>2024/10/21 22:41:02 Node: oci1  stdout   Task: hello: Hello, Lucas!\n\nThe execution is done\n</code></pre>"},{"location":"en/runfiles/#sections-explained","title":"Sections Explained","text":""},{"location":"en/runfiles/#runfile","title":"runfile","text":"<p>This field is for documentation purposes to describe the runfile.</p>"},{"location":"en/runfiles/#envs","title":"envs","text":"<p>Defines environment variables that are set before any commands are executed in the tasks. Each variable must have a key and a value.</p> <pre><code>envs:\n  - key: TEST1\n    value: VALUE_1\n\n  - key: TEST2\n    value: VALUE_2\n</code></pre>"},{"location":"en/runfiles/#tasks","title":"tasks","text":"<ul> <li><code>name</code>: Descriptive name of the task for identification.</li> <li><code>node</code>: List of nodes where the command will be executed. Each node should correspond to a configured host.</li> <li><code>command</code>: The command to be executed. Can include inline environment variables, shell operators, etc.</li> </ul> <pre><code>- name: hostname\n  node: \n    - oci1\n  command: hostname\n</code></pre>"},{"location":"en/runfiles/#writing-commands","title":"Writing Commands","text":"<p>Commands should be valid shell commands. They can include environment variable usage, piping, and other shell functionalities. If a command involves multiple statements, separate them with semicolons or use a multi-line format.</p>"},{"location":"en/runfiles/#advanced-usage","title":"Advanced Usage","text":"<p>For more complex scenarios, such as installing software or running services, consider breaking down the tasks into multiple runfiles or using dependencies within tasks to ensure order of execution.</p> <ul> <li>multiline commands:</li> </ul> <pre><code>command: \n  whoami ;\n  hostname -I ;\n  echo \"$TEST1\" ;\n  echo \"$TEST2\" ;\n  echo \"It's working!\"\n</code></pre> <ul> <li>multiples tasks:</li> </ul> <pre><code>tasks:\n  - name: who_am_i\n    node: \n      - oci1\n      - oci2\n    command: whoami\n\n  - name: check_env1\n    node: \n      - oci1\n      - oci2\n    command: echo \"$TEST1\"\n</code></pre>"},{"location":"pt-BR/","title":"Welcome to Accio","text":"<p>Do Latin, accio, significa a\u00e7\u00e3o.</p> <p>Ent\u00e3o, fa\u00e7a algo em v\u00e1rios servidores, essa \u00e9 a ideia.</p> <p>Accio \u00e9 uma ferramenta projetada para gerenciar tarefas executadas em v\u00e1rios servidores remotos via SSH. Ela permite que voc\u00ea configure e automatize a execu\u00e7\u00e3o de comandos em diversos n\u00f3s utilizando arquivos de configura\u00e7\u00e3o YAML, tornando o gerenciamento de servidores remotos mais eficiente e escal\u00e1vel.</p>"},{"location":"pt-BR/#funcionalidades","title":"Funcionalidades","text":"<ul> <li> <p>Defina e gerencie hosts SSH em um arquivo de configura\u00e7\u00e3o simples.</p> </li> <li> <p>Execute tarefas remotamente via SSH usando runfiles.</p> </li> <li> <p>Automatize a execu\u00e7\u00e3o de tarefas em v\u00e1rios servidores.</p> </li> <li> <p>Suporte a vari\u00e1veis de ambiente e comandos em m\u00faltiplos n\u00f3s.</p> </li> </ul>"},{"location":"pt-BR/#commands","title":"Commands","text":"<ul> <li><code>accio -help</code> - Exibe os comandos dispon\u00edveis.</li> <li><code>accio -version</code> - Exibe a vers\u00e3o do Accio.</li> <li><code>accio -hosts</code> - Caminho para o arquivo de hosts.</li> <li><code>accio -run</code> - Caminho para o arquivo de execu\u00e7\u00e3o (Runfile).</li> <li><code>accio -localrun</code> - Executa em modo local.</li> </ul>"},{"location":"pt-BR/#project-layout","title":"Project layout","text":"<pre><code>.\n\u251c\u2500\u2500 build.sh\n\u251c\u2500\u2500 CHANGELOG.md\n\u251c\u2500\u2500 cmd\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 accio\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 main.go\n\u251c\u2500\u2500 docs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 en\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 changelogs.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 contributing.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 errors.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 hosts.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 index.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 installation.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 runfiles.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 index.md\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 pt-BR\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 changelogs.md\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 contributing.md\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 errors.md\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 hosts.md\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 index.md\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 installation.md\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 runfiles.md\n\u251c\u2500\u2500 examples\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 first_runfile.yaml\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 install_docker.yaml\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 multi_cmds.yaml\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 simple.yaml\n\u251c\u2500\u2500 go.mod\n\u251c\u2500\u2500 go.sum\n\u251c\u2500\u2500 hosts.example.toml\n\u251c\u2500\u2500 hosts.toml\n\u251c\u2500\u2500 IDEA.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 mkdocs.yml\n\u251c\u2500\u2500 pkg\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 localexec\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 handler.go\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 read_files\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 hosts.go\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 hosts_test.go\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 runfile.go\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 sshconn\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 commands.go\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 sshconn.go\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 sshexec\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 handler.go\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 utilities\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 logs.go\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 simpleColors.go\n\u251c\u2500\u2500 project.toml\n\u2514\u2500\u2500 README.md\n\n</code></pre>"},{"location":"pt-BR/changelogs/","title":"Changelog","text":"<p>Todas as altera\u00e7\u00f5es not\u00e1veis deste projeto ser\u00e3o documentadas neste arquivo.</p> <p>O formato \u00e9 baseado em Mantenha um Changelog, e este projeto segue Versionamento Sem\u00e2ntico.</p>"},{"location":"pt-BR/changelogs/#v111-2024-11-26","title":"[v1.1.1] - 2024-11-26","text":""},{"location":"pt-BR/changelogs/#consertado","title":"Consertado","text":"<ul> <li>Logs de erros de execu\u00e7\u00e3o local.</li> </ul>"},{"location":"pt-BR/changelogs/#v110-2024-11-25","title":"[v1.1.0] - 2024-11-25","text":""},{"location":"pt-BR/changelogs/#adicionado","title":"Adicionado","text":"<ul> <li>Execu\u00e7\u00e3o local.</li> </ul>"},{"location":"pt-BR/changelogs/#v100-2024-11-22","title":"[v1.0.0] - 2024-11-22","text":""},{"location":"pt-BR/changelogs/#adicionado_1","title":"Adicionado","text":"<ul> <li> <p>Primeira vers\u00e3o est\u00e1vel do Accio.</p> </li> <li> <p>Suporte para defini\u00e7\u00e3o e gerenciamento de hosts SSH via arquivo de configura\u00e7\u00e3o simples.</p> </li> <li> <p>Execu\u00e7\u00e3o de tarefas remotamente usando arquivos de execu\u00e7\u00e3o (runfiles) YAML.</p> </li> <li> <p>Suporte para vari\u00e1veis de ambiente em runfiles.</p> </li> <li> <p>Execu\u00e7\u00e3o de comandos em m\u00faltiplos servidores (n\u00f3s) via SSH.</p> </li> <li> <p>Funcionalidade de automa\u00e7\u00e3o de tarefas em v\u00e1rios servidores.</p> </li> <li> <p>Suporte para comandos shell com funcionalidades avan\u00e7adas, como m\u00faltiplas linhas e operadores de shell.</p> </li> <li> <p>Documenta\u00e7\u00e3o inicial cobrindo a configura\u00e7\u00e3o de hosts, runfiles e exemplos de uso.</p> </li> </ul>"},{"location":"pt-BR/changelogs/#unreleased","title":"[Unreleased]","text":""},{"location":"pt-BR/changelogs/#added","title":"Added","text":"<p>Para novos recursos.</p>"},{"location":"pt-BR/changelogs/#changed","title":"Changed","text":"<p>Para altera\u00e7\u00f5es na funcionalidade existente.</p>"},{"location":"pt-BR/changelogs/#deprecated","title":"Deprecated","text":"<p>Para recursos que ser\u00e3o removidos em breve.</p>"},{"location":"pt-BR/changelogs/#removed","title":"Removed","text":"<p>Para recursos que foram removidos.</p>"},{"location":"pt-BR/changelogs/#fixed","title":"Fixed","text":"<p>Para corre\u00e7\u00f5es de bugs.</p>"},{"location":"pt-BR/changelogs/#security","title":"Security","text":"<p>Em caso de vulnerabilidades.</p>"},{"location":"pt-BR/contributing/","title":"Contribuindo","text":"<p>Suas contribui\u00e7\u00f5es s\u00e3o bem-vindas! Se voc\u00ea encontrar algum bug ou tiver solicita\u00e7\u00f5es de novos recursos, por favor, abra uma issue. Para contribuir com c\u00f3digo, siga estes passos:</p> <ol> <li>Fa\u00e7a um fork do reposit\u00f3rio.</li> <li>Clone o reposit\u00f3rio forkado para sua m\u00e1quina local.</li> <li>Crie uma nova branch <code>git checkout -b nome-da-feature-ou-corre\u00e7\u00e3o</code>.</li> <li>Fa\u00e7a suas altera\u00e7\u00f5es e fa\u00e7a o commit delas <code>git commit -m \"Descri\u00e7\u00e3o das suas altera\u00e7\u00f5es\"</code>.</li> <li>Envie sua branch para o reposit\u00f3rio forkado <code>git push origin nome-da-feature-ou-corre\u00e7\u00e3o</code>.</li> <li>Abra um pull request com uma descri\u00e7\u00e3o clara das suas altera\u00e7\u00f5es.</li> </ol>"},{"location":"pt-BR/errors/","title":"Erros","text":"<p>Este arquivo documenta as mensagens de erro comuns que podem ocorrer durante a execu\u00e7\u00e3o dos comandos em diferentes n\u00f3s remotos. Cada se\u00e7\u00e3o descreve o erro, suas poss\u00edveis causas e como solucion\u00e1-lo.</p>"},{"location":"pt-BR/errors/#mensagens-de-erro-comuns","title":"Mensagens de Erro Comuns","text":"<p>Erro: <code>Process exited with status 127: bash: line 1: wh: command not found</code></p> <p>Descri\u00e7\u00e3o:</p> <p>Este erro ocorre quando um comando espec\u00edfico n\u00e3o \u00e9 encontrado no servidor remoto. O c\u00f3digo de sa\u00edda <code>127</code> \u00e9 retornado pelo shell do Linux para indicar que o comando n\u00e3o est\u00e1 dispon\u00edvel no sistema.</p> <p>Exemplo de Erro:</p> <pre><code>Have errors occurred in: oci2\nraise_error: [failed to execute command: Process exited with status 127: bash: line 1: wh: command not found]\n</code></pre> <pre><code>Have errors occurred in: oci1\nraise_error: [failed to execute command: Process exited with status 127: bash: line 1: wh: command not found]\n</code></pre> <p>Causa:</p> <p>O erro est\u00e1 relacionado ao uso de um comando que n\u00e3o est\u00e1 instalado ou dispon\u00edvel no ambiente do servidor remoto. No exemplo acima, o comando <code>wh</code> n\u00e3o foi encontrado, o que indica que foi digitado incorretamente ou que o bin\u00e1rio esperado n\u00e3o est\u00e1 presente.</p> <p>Solu\u00e7\u00e3o:</p> <ol> <li> <p>Verifique o Comando: Certifique-se de que o comando digitado est\u00e1 correto. No caso acima, o comando correto poderia ser <code>whoami</code>, mas foi digitado como <code>wh</code>.</p> </li> <li> <p>Instale o Comando Faltante: Se o comando correto estiver ausente no servidor, voc\u00ea pode instal\u00e1-lo. Por exemplo, para instalar <code>whoami</code>, use:</p> </li> </ol> <pre><code>sudo apt-get install coreutils\n</code></pre> <ol> <li>Corrija o Script: Se o erro estiver em um script ou runfile, edite o script para usar o comando correto ou verifique se todos os comandos necess\u00e1rios est\u00e3o instalados no servidor.</li> </ol>"},{"location":"pt-BR/errors/#outros-erros","title":"Outros Erros","text":"<p>Se voc\u00ea encrontrar algum bug ou possuir sugest\u00f5es de melhoreias, por favor, abra uma issue. Para contribuir, siga oguia de contribui\u00e7\u00e3o</p>"},{"location":"pt-BR/hosts/","title":"Arquivo de Configura\u00e7\u00e3o de Hosts","text":"<p>O arquivo de hosts \u00e9 utilizado para configurar o acesso SSH a m\u00faltiplos servidores (n\u00f3s). Cada bloco <code>[[nodes]]</code> no arquivo define uma conex\u00e3o com um servidor espec\u00edfico, incluindo detalhes como o nome do n\u00f3, endere\u00e7o IP, usu\u00e1rio e o caminho para a chave privada SSH. Abaixo est\u00e3o os detalhes de cada campo e como devem ser preenchidos.</p>"},{"location":"pt-BR/hosts/#formato-do-arquivo","title":"Formato do Arquivo","text":"<p>O arquivo \u00e9 organizado em blocos, cada um representando um n\u00f3. Cada bloco \u00e9 delimitado por <code>[[nodes]]</code> e cont\u00e9m os seguintes campos:</p> <ul> <li><code>name</code>: Um nome descritivo para o n\u00f3. Este identificador \u00e9 usado para se referir ao servidor.</li> <li><code>host</code>: O endere\u00e7o IP ou nome do host do servidor, seguido pela porta do servi\u00e7o SSH (geralmente a porta 22).</li> <li><code>user</code>: A conta de usu\u00e1rio utilizada para a autentica\u00e7\u00e3o SSH.</li> <li><code>private_key_path</code>: O caminho local para a chave privada SSH usada para autenticar no servidor.</li> </ul>"},{"location":"pt-BR/hosts/#exemplo-de-configuracao","title":"Exemplo de Configura\u00e7\u00e3o","text":"<p>Aqui est\u00e1 um exemplo de como dois servidores podem ser configurados no arquivo de hosts:</p> <pre><code>Copiar c\u00f3digo\n[[nodes]]\nname = \"oci1\"\nhost = \"10.128.0.1:22\"\nuser = \"ubuntu\"\nprivate_key_path = \"/home/lucas/.ssh/id_rsa\"\n\n[[nodes]]\nname = \"oci2\"\nhost = \"10.128.0.2:22\"\nuser = \"ubuntu\"\nprivate_key_path = \"/home/lucas/.ssh/id_rsa\"\n</code></pre>"},{"location":"pt-BR/hosts/#uso","title":"Uso","text":"<p>Este arquivo \u00e9 normalmente utilizado por scripts ou aplica\u00e7\u00f5es que automatizam conex\u00f5es SSH a m\u00faltiplos servidores. Ele permite ao usu\u00e1rio configurar o acesso a todos os servidores necess\u00e1rios uma vez e reutilizar essa configura\u00e7\u00e3o de forma eficiente e segura.</p>"},{"location":"pt-BR/installation/","title":"Instala\u00e7\u00e3o","text":"<p>Voc\u00ea pode instalar o Accio de v\u00e1rias maneiras, dependendo da sua prefer\u00eancia. Abaixo est\u00e3o as tr\u00eas principais op\u00e7\u00f5es:</p>"},{"location":"pt-BR/installation/#instalar-via-git-clone-e-go-install","title":"Instalar via Git Clone e Go Install","text":"<p>Este m\u00e9todo \u00e9 ideal se voc\u00ea deseja compilar o projeto a partir do c\u00f3digo-fonte usando Go:</p> <pre><code># Clone o reposit\u00f3rio\ngit clone https://github.com/lucaslimafernandes/accio.git\n\n# Altere para o diret\u00f3rio do projeto\ncd accio\n\n# Compile e instale usando Go\ngo install\n</code></pre> <p>Isso ir\u00e1 compilar o projeto e colocar o bin\u00e1rio no diret\u00f3rio <code>$GOPATH/bin</code>, tornando-o dispon\u00edvel globalmente se <code>$GOPATH/bin</code> fizer parte do PATH do sistema.</p>"},{"location":"pt-BR/installation/#baixar-binario-pre-compilado","title":"Baixar Bin\u00e1rio Pr\u00e9-Compilado","text":"<p>Se voc\u00ea preferir n\u00e3o compilar a partir do c\u00f3digo-fonte, pode baixar um bin\u00e1rio pr\u00e9-compilado da p\u00e1gina de releases do reposit\u00f3rio. Ap\u00f3s o download, mova o bin\u00e1rio para <code>/usr/bin</code> (ou qualquer diret\u00f3rio inclu\u00eddo no seu PATH) para torn\u00e1-lo dispon\u00edvel em todo o sistema:</p> <pre><code># Baixe o bin\u00e1rio (substitua o link pelo correto na p\u00e1gina de releases)\nwget https://github.com/lucaslimafernandes/accio/releases/download/vX.Y.Z/accio-linux-amd64\n\n# Torne o bin\u00e1rio execut\u00e1vel\nchmod +x accio-linux-amd64\n\n# Mova o bin\u00e1rio para /usr/bin para torn\u00e1-lo acess\u00edvel globalmente\nsudo mv accio-linux-amd64 /usr/bin/accio\n</code></pre> <p>Agora, voc\u00ea pode executar <code>accio</code> de qualquer diret\u00f3rio no seu sistema.</p>"},{"location":"pt-BR/installation/#instalar-via-go-direto-do-repositorio","title":"Instalar via Go (Direto do Reposit\u00f3rio)","text":"<p>Se voc\u00ea j\u00e1 tiver o Go instalado, pode instalar o bin\u00e1rio diretamente usando o gerenciador de pacotes do Go:</p> <pre><code>go install github.com/lucaslimafernandes/accio@latest\n</code></pre> <p>Esse comando buscar\u00e1 a vers\u00e3o mais recente do Accio, ir\u00e1 compil\u00e1-lo e colocar\u00e1 o bin\u00e1rio no diret\u00f3rio <code>$GOPATH/bin</code>. Certifique-se de que <code>$GOPATH/bin</code> esteja no PATH do seu sistema.</p>"},{"location":"pt-BR/runfiles/","title":"Runfiles","text":"<p>Os arquivos de execu\u00e7\u00e3o (runfiles) s\u00e3o configura\u00e7\u00f5es YAML usadas para definir uma s\u00e9rie de tarefas a serem executadas em n\u00f3s remotos via SSH. Esses arquivos s\u00e3o estruturados para incluir configura\u00e7\u00f5es de ambiente, nomes de tarefas, n\u00f3s associados e os comandos espec\u00edficos a serem executados. Abaixo, fornecemos uma explica\u00e7\u00e3o detalhada de como criar e estruturar esses arquivos de execu\u00e7\u00e3o.</p>"},{"location":"pt-BR/runfiles/#estrutura-do-arquivo","title":"Estrutura do Arquivo","text":"<p>Um arquivo de execu\u00e7\u00e3o t\u00edpico inclui v\u00e1rias se\u00e7\u00f5es principais:</p> <ul> <li><code>runfile</code>: Um t\u00edtulo ou descri\u00e7\u00e3o do prop\u00f3sito do arquivo de execu\u00e7\u00e3o.</li> <li><code>envs</code>: (Opcional) Vari\u00e1veis de ambiente globais aplic\u00e1veis a todas as tarefas.</li> <li><code>tasks</code>: Uma lista de tarefas, onde cada tarefa especifica um comando a ser executado em um ou mais n\u00f3s.</li> </ul>"},{"location":"pt-BR/runfiles/#examplo-de-runfile","title":"Examplo de Runfile","text":"<p>Aqui est\u00e1 um exemplo de um arquivo de execu\u00e7\u00e3o simples chamado <code>first_runfile.yaml</code>:</p> <pre><code>runfile: first_runfile\n\nenvs:\n  - key: MYNAME\n    value: Lucas\n\ntasks:\n  - name: hello\n    node: \n      - oci1\n    command: \n      echo \"Hello, $MYNAME!\"\n\n</code></pre> <p>A sa\u00edda:</p> <pre><code>2024/10/21 22:41:02 Node: oci1  stdout   Task: hello: Hello, Lucas!\n\nThe execution is done\n</code></pre>"},{"location":"pt-BR/runfiles/#detalhamento-das-secoes","title":"Detalhamento das Se\u00e7\u00f5es","text":""},{"location":"pt-BR/runfiles/#runfile","title":"runfile","text":"<p>Este campo \u00e9 usado para fins de documenta\u00e7\u00e3o, descrevendo o arquivo de execu\u00e7\u00e3o.</p>"},{"location":"pt-BR/runfiles/#envs","title":"envs","text":"<p>Define as vari\u00e1veis de ambiente que s\u00e3o configuradas antes da execu\u00e7\u00e3o de qualquer comando nas tarefas. Cada vari\u00e1vel deve ter uma chave e um valor.</p> <pre><code>envs:\n  - key: TEST1\n    value: VALUE_1\n\n  - key: TEST2\n    value: VALUE_2\n</code></pre>"},{"location":"pt-BR/runfiles/#tasks","title":"tasks","text":"<ul> <li><code>name</code>: Nome descritivo da tarefa para identifica\u00e7\u00e3o.</li> <li><code>node</code>: Lista de n\u00f3s onde o comando ser\u00e1 executado. Cada n\u00f3 deve corresponder a um host configurado.</li> <li><code>command</code>: O comando a ser executado. Pode incluir vari\u00e1veis de ambiente inline, operadores de shell, etc.</li> </ul> <pre><code>- name: hostname\n  node: \n    - oci1\n  command: hostname\n</code></pre>"},{"location":"pt-BR/runfiles/#escrevendo-comandos","title":"Escrevendo comandos","text":"<p>Os comandos devem ser v\u00e1lidos como comandos de shell. Eles podem incluir o uso de vari\u00e1veis de ambiente, pipe, e outras funcionalidades do shell. Se um comando envolver v\u00e1rias instru\u00e7\u00f5es, separe-as com ponto e v\u00edrgula ou use um formato de v\u00e1rias linhas.</p>"},{"location":"pt-BR/runfiles/#uso-avancado","title":"Uso Avan\u00e7ado","text":"<p>Para cen\u00e1rios mais complexos, como instalar softwares ou executar servi\u00e7os, considere dividir as tarefas em v\u00e1rios arquivos de execu\u00e7\u00e3o ou usar depend\u00eancias dentro das tarefas para garantir a ordem de execu\u00e7\u00e3o.</p> <ul> <li>Comandos em v\u00e1rias linhas:</li> </ul> <pre><code>command: \n  whoami ;\n  hostname -I ;\n  echo \"$TEST1\" ;\n  echo \"$TEST2\" ;\n  echo \"It's working!\"\n</code></pre> <ul> <li>M\u00faltiplas tarefas:</li> </ul> <pre><code>tasks:\n  - name: who_am_i\n    node: \n      - oci1\n      - oci2\n    command: whoami\n\n  - name: check_env1\n    node: \n      - oci1\n      - oci2\n    command: echo \"$TEST1\"\n</code></pre>"}]}