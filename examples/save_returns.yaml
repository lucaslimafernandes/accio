runfile: multiple_commands

envs:
  - key: TEST1
    value: VALUE_1

  - key: TEST2
    value: VALUE_2

tasks:
  - name: multi_line
    node: 
      - oci1
      - oci2
    command: 
      whoami ;
      hostname -I ;
    save_output_as: hostnn
    save_output_as_file: hostnn.txt
  
  - name: GREP
    node: 
      - localhost
    command: 
      ls |grep README;
    save_output_as_file: ls.txt
  
  - name: reuse var
    node: 
      - localhost
    command: 
      echo "{{ hostnn }}";

  - name: reuse var2
    node: 
      - localhost
    save_output_as: vaisalvo
    command: 
      echo "JSON NOJS";

  - name: reuse var3
    node: 
      - localhost
    command: 
      echo "{{ vaisalvo }}";
